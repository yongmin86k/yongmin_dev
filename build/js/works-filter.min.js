"use strict";!function(s){var a=700,i=[],t=1,e=0;function n(t){console.log("success"),(i=t).forEach(function(s){s.work_taxonomies.sort(function(s,a){return s-a})}),i.forEach(function(s){s.work_roles.sort(function(s,a){return s-a})}),s(function(){s("#contents-works-page-projects").html(""),i.forEach(function(i,t){var e=void 0,n=void 0,l=void 0,o=void 0,r=void 0,c=void 0;e=i.cmb2.work_details.date_start.slice(0,7).replace("-",". "),n=i.cmb2.work_details.date_end.slice(0,7).replace("-",". "),l=e===n?e:e+" - "+n,o=i.featured_media,r=i.title.rendered,c=i.cmb2.work_details.work_url,s("#contents-works-page-projects").append('\n                    <article id="ymk-works-'+t+'" class="article-works">\n                        <div class="article-feat-img"></div>\n                        <div class="article-contents">\n                            <div class="article-meta">\n                                <p class="work-date">'+l+'</p>\n                                <h3 class="work-title">'+r+'</h3>\n                                <a class="work-link" href="'+c+'">\n                                    Show details\n                                </a>\n                            </div>\n                            <div class="role-meta">\n                                <p class="role-meta-title">Roles</p>\n                                <div class="role-container"></div>\n                            </div>\n                            <div class="tag-meta"></div>\n                        </div>\n                    </article>\n               '),s("#ymk-works-"+t).fadeIn(a),o&&function(i,t,e){s.ajax({method:"get",url:ymk_api_works.rest_url+"wp/v2/media/"+i,timeout:3e3}).always(function(){}).fail(function(s){console.log(s)}).done(function(i){var n=i.source_url;s("#"+t).find(".article-feat-img").append('\n                <a href="'+e+'">\n                    <img class="work-feat-img" src="'+n+'">\n                </a>\n            '),s("#"+t).find(".work-feat-img").fadeIn(a)})}(o,"ymk-works-"+t,c)})})}function l(){console.error("failure")}s.when(s.ajax(ymk_api_works.rest_url+"wp/v2/work_posts?per_page=100")).then(n,l),s(function(){var a;(a=s("input[name=filter-works]")).on("click",function(){switch(a.parent("label").removeClass("active"),s(this).parent("label").addClass("active"),s(this).attr("class")){case"by-date":t++,e=0;break;case"by-name":t=0,e++}t>1&&"recent"===s(this).val()?(s(this).val("old"),s(this).siblings("p").html("Oldest"),s(this).siblings("span").html('<i class="fas fa-sort-numeric-down"></i>')):t>1&&"old"===s(this).val()?(s(this).val("recent"),s(this).siblings("p").html("Recent"),s(this).siblings("span").html('<i class="fas fa-sort-numeric-down-alt"></i>')):e>1&&"asc"===s(this).val()?(s(this).val("desc"),s(this).siblings("p").html("Descending"),s(this).siblings("span").html('<i class="fas fa-sort-alpha-down-alt"></i>')):e>1&&"desc"===s(this).val()&&(s(this).val("asc"),s(this).siblings("p").html("Ascending"),s(this).siblings("span").html('<i class="fas fa-sort-alpha-down"></i>'))})})}(jQuery);