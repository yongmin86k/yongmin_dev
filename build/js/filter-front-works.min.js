"use strict";!function(n){var a=700,t=[],e=[];function i(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a.removeClass("active"),t?t.parent().addClass("active"):a.filter(function(){n(this).children("input").prop("checked")&&n(this).addClass("active")})}function o(i){var o=void 0,r=void 0;void 0===i||"all"===i.val()?o=ymk_api_works.rest_url+"wp/v2/work_posts":(r=i.val(),o=ymk_api_works.rest_url+"wp/v2/work_posts?work_taxonomies="+r),n.ajax({method:"get",url:o}).always(function(){}).fail(function(n){console.log(n)}).done(function(i){var o=i;o.forEach(function(n){n.work_taxonomies.sort(function(n,a){return n-a})}),o.forEach(function(n){n.work_roles.sort(function(n,a){return n-a})}),n("#contents-front-page-works").html(""),o.forEach(function(i,o){var r,l,s,c,d,f;s=(r=i.cmb2.work_details.date_start.slice(0,7).replace("-",". "))===(l=i.cmb2.work_details.date_end.slice(0,7).replace("-",". "))?r:r+" - "+l,c=i.featured_media,d=i.title.rendered,f=i.cmb2.work_details.work_url,n("#contents-front-page-works").append('\n                    <article id="ymk-works-'+o+'" class="article-works">\n                        <div class="article-feat-img"></div>\n                        <div class="article-contents">\n                            <div class="article-meta">\n                                <p class="work-date">'+s+'</p>\n                                <h3 class="work-title">'+d+'</h3>\n                                <a class="work-link" href="'+f+'">\n                                    Read more\n                                </a>\n                            </div>\n                            <div class="role-meta">\n                                <p class="role-meta-title">Roles</p>\n                                <div class="role-container"></div>\n                            </div>\n                            <div class="tag-meta"></div>\n                        </div>\n                    </article>\n               '),n("#ymk-works-"+o).fadeIn(a),i.work_roles.length>0&&i.work_roles.forEach(function(a){var t,i,r,l;i=(t=e.find(function(n){return n.id===a})).id,r=t.link,l=t.name,n("#ymk-works-"+o).find(".role-container").append('\n                            <p class="role-element role-tag-id-'+i+'">\n                                <a class="role-link" href="'+r+'">\n                                    '+l+"\n                                </a>\n                            </p>                        \n                        ")}),i.work_taxonomies.length>0&&i.work_taxonomies.forEach(function(a){var e,i,r,l,s=void 0;i=(e=t.find(function(n){return n.id===a})).id,r=e.link,l=e.name,0===e.parent?n("#ymk-works-"+o).find(".tag-meta").append("\n                                <div class='tag-container parent-tag-id-"+i+"'>\n                                    <p class=\"tag-element child-tag-id-"+i+'">\n                                        <a class="tag-link" href="'+r+'">\n                                            '+l+"\n                                        </a>\n                                    </p>\n                                </div>\n                            "):(s=e.parent,n("#ymk-works-"+o).find(".parent-tag-id-"+s).append('\n                                <p class="tag-element child-tag-id-'+i+'">\n                                    <a class="tag-link" href="'+r+'">\n                                        '+l+"\n                                    </a>\n                                </p>\n                            "))}),c&&function(t,e,i){n.ajax({method:"get",url:ymk_api_works.rest_url+"wp/v2/media/"+t}).always(function(){}).fail(function(n){console.log(n)}).done(function(t){var o=t.source_url;n("#"+e).find(".article-feat-img").append('\n                <a href="'+i+'">\n                    <img class="work-feat-img" src="'+o+'">\n                </a>\n            '),n("#"+e).find(".work-feat-img").fadeIn(a)})}(c,"ymk-works-"+o,f)})})}n.ajax({method:"get",url:ymk_api_works.rest_url+"wp/v2/work_taxonomies"}).always(function(){}).fail(function(){}).done(function(n){(t=n).sort(function(n,a){return n.parent-a.parent})}),n.ajax({method:"get",url:ymk_api_works.rest_url+"wp/v2/work_roles"}).always(function(){}).fail(function(){}).done(function(n){e=n}),n(function(){if(n(".filter-txt").length>0){var a=n(".filter-txt");i(a),a.on("click","label",function(){i(a,n(this))}),o(),a.on("click","input",function(){o(n(this))})}})}(jQuery);