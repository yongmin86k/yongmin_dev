"use strict";!function(n){var t=[],a=[];function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.removeClass("active"),a?a.parent().addClass("active"):t.filter(function(){n(this).children("input").prop("checked")&&n(this).addClass("active")})}function o(e){var o=void 0,r=void 0;void 0===e||"all"===e.val()?o=ymk_api_works.rest_url+"wp/v2/work_posts":(r=e.val(),o=ymk_api_works.rest_url+"wp/v2/work_posts?work_taxonomies="+r),n.ajax({method:"get",url:o}).always(function(){n("#contents-front-page-works").html("")}).fail(function(n){console.log(n)}).done(function(e){var o=e;o.forEach(function(n){n.work_taxonomies.sort(function(n,t){return n-t})}),o.forEach(function(n){n.work_roles.sort(function(n,t){return n-t})}),o.forEach(function(e,o){var r,i,l,s,c;l=(r=e.cmb2.work_details.date_start.slice(0,7).replace("-",". "))===(i=e.cmb2.work_details.date_end.slice(0,7).replace("-",". "))?r:r+" - "+i,s=e.title.rendered,c=e.cmb2.work_details.work_url,n("#contents-front-page-works").append('\n                    <article id="ymk-works-'+o+'" class="article-works">\n                        <div class="article-meta">\n                            <p class="work-date">'+l+'</p>\n                            <h3 class="work-title">'+s+'</h3>\n                            <a class="work-link" href="'+c+'">\n                                Read more\n                            </a>\n                        </div>\n                        <div class="role-meta">\n                            <p class="role-meta-title">Roles</p>\n                            <div class="role-container"></div>\n                        </div>\n                        <div class="tag-meta"></div>\n                    </article>\n               '),console.log(e),e.work_roles.length>0&&e.work_roles.forEach(function(t){var e,r,i,l;r=(e=a.find(function(n){return n.id===t})).id,i=e.link,l=e.name,n("#ymk-works-"+o).find(".role-container").append('\n                            <p class="role-element role-tag-id-'+r+'">\n                                <a class="role-link" href="'+i+'">\n                                    '+l+"\n                                </a>\n                            </p>                        \n                        ")}),e.work_taxonomies.length>0&&e.work_taxonomies.forEach(function(a){var e,r,i,l,s=void 0;r=(e=t.find(function(n){return n.id===a})).id,i=e.link,l=e.name,0===e.parent?n("#ymk-works-"+o).find(".tag-meta").append("\n                                <div class='tag-container parent-tag-id-"+r+"'>\n                                    <p class=\"tag-element child-tag-id-"+r+'">\n                                        <a class="tag-link" href="'+i+'">\n                                            '+l+"\n                                        </a>\n                                    </p>\n                                </div>\n                            "):(s=e.parent,n("#ymk-works-"+o).find(".parent-tag-id-"+s).append('\n                                <p class="tag-element child-tag-id-'+r+'">\n                                    <a class="tag-link" href="'+i+'">\n                                        '+l+"\n                                    </a>\n                                </p>\n                            "))})})})}n.ajax({method:"get",url:ymk_api_works.rest_url+"wp/v2/work_taxonomies"}).always(function(){}).fail(function(){}).done(function(n){(t=n).sort(function(n,t){return n.parent-t.parent})}),n.ajax({method:"get",url:ymk_api_works.rest_url+"wp/v2/work_roles"}).always(function(){}).fail(function(){}).done(function(n){a=n}),n(function(){if(n(".filter-txt").length>0){var t=n(".filter-txt");e(t),t.on("click","label",function(){e(t,n(this))}),o(),t.on("click","input",function(){o(n(this))})}})}(jQuery);